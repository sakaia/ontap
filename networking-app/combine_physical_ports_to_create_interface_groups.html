<!DOCTYPE html>
<html lang="en">
  <head class="at-element-marker">
  <title>Combine physical ports to create interface groups</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="language" content="en">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Combine physical ports to create interface groups" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/ontap/networking-app/combine_physical_ports_to_create_interface_groups.html" />
	<meta property="og:description" content="Combine two or more physical ports into a single logical port to create an interface group" />
  <meta property="og:image" content="https://docs.netapp.com/ontap/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/>
  
  <meta name="description" content="Combine two or more physical ports into a single logical port to create an interface group">
  <meta name="keywords" content=" combine, ports, ifgrp, interface, group, create, creating, add, adding, types, single-mode, single, mode, static, dynamic, multimode, best, practice, port-based, port, based, load, balance, balancing, ip, address, mac, sequential, remove, removing, delete, deleting">
  
  

  <!-- Icons -->
  <link rel="icon" href="/ontap/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- Controls AsciiDoctor Admonition Blocks -->
  <link rel="stylesheet" type="text/css" href="/ontap/css/font-awesome.min.css">

  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/ontap/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel="stylesheet" type="text/css" href="/ontap/css/netapp.css">

  <!-- WWW CSS Content -->
  <link rel="stylesheet" type="text/css" href="/ontap/css/www-luci-dotcom.min.css">
  <link rel="stylesheet" type="text/css" href="/ontap/css/www-netapp-dotcom.css">
  <link rel="stylesheet" href="/ontap/css/www-netapp-library-critical.min.css" media="all" >
  <link rel="stylesheet" href="/ontap/css/www-netapp-library-non-critical.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="stylesheet" href="/ontap/css/www-netapp-library-global-header-footer.min.css">

  <!-- NetApp IE Customizations -->
  <link rel="stylesheet" href='/ontap/css/na-utility.css' type='text/css'>
  <link rel="stylesheet" href='/ontap/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/ontap/css/clouddocs.css' type='text/css'>
  <link rel='stylesheet' href='/ontap/css/na-pagenav.css' type='text/css'>

  

  
  <link rel='stylesheet' href='/ontap/css/na-feature.css' type='text/css'>
  


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/ontap/js/na-search.js'></script>
  

  
  <script src='/ontap/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/ontap/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/ontap/css/prism-netapp.css' type='text/css'>


  <script src='/ontap/js/na-utility.js'></script>
  <script src='/ontap/js/clouddocs.js'></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    var head = document.getElementsByTagName('head')[0];
    var adobe = document.createElement("script");
    adobe.type = "text/javascript";
    adobe.src = "//assets.adobedtm.com/60287eadf1ee/c284da483c83/launch-e9ff3acac59f.min.js";
    head.appendChild(adobe);
  }
  </script>
  <script src='/ontap/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/ontap/js/toc.js'></script>
  <script src='/ontap/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>

  <!-- Controls the i18n Browser Redirection -->
  <script>
    
    var siteLocales = [];
    
      siteLocales.push("us-en");
    

    standardizeUrl(siteLocales, "clouddocs.netapp.com", "https://docs.netapp.com");
    
  </script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
</head>


  <body class role="document">
    <div id="page" class="n-off-canvas-menu">
      <div class="n-off-canvas-menu__menu"><!--TODO: Add offcanvas code --></div>
      <div class="n-off-canvas-menu__content-wrap">
        <header class="site-header" id="banner">
  <!-- Start top_hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/products-a-z/" class="n-top-hat__link">Product and Solutions</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/support-and-training/netapp-university/" class="n-top-hat__link">Support and Training</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://cloud.netapp.com" class="n-top-hat__link">Cloud Central</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://community.netapp.com/" class="n-top-hat__link">Community</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://blog.netapp.com/" class="n-top-hat__link">Blog</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://customers.netapp.com/en/" class="n-top-hat__link">Customer Stories</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
      <div class="n-top-hat__utils">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End top_hat -->

  <!-- Start property bar -->
  <style>
    .n-property-navigation-bar__menus--desktop-experience .n-menu--mega__default-content__heading span {
    color: #34B0FF;
    }
  </style>
  <div class="n-property-bar " data-ntap-ui="sticky-nav">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link">
          <span class="n-property-bar__menu-toggle-text">Menu</span>
          <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
            <title>bars</title>
            <use xlink:href="/ontap/common/svg/sprite.svg#bars"></use>
          </svg>
        </a>
      </div>
      <div class="n-property-bar__property-mark ">
        <a href="https://www.netapp.com" class="n-property-bar__property-link">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/ontap/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-icon-netapp-logo n-property-bar__logo-svg" aria-labelledby="title">
              <title>netapp-logo</title>
              <use xlink:href="/ontap/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
        </a>
      </div>

      
      <div class="search-property-bar">
        <div id="search-demo-container" class="searchbox n-property-bar__search">
          <div id="react-search" data-type="widget" data-placeholder="Search Documentation" data-no-results-found="No results were found for {query}" data-did-you-mean="Search for {suggestion}." data-no-results-found-did-you-mean="No results found for {query}. Did you mean {suggestion}?" data-results-found="{hitCount} results found"  ></div>
          <button class="n-property-bar__search-toggle-button" type="button">
            <svg class="n-icon-search n-property-bar__search-toggle-button-icon" aria-labelledby="title">
              <title>search</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#search"></use>
            </svg>
          </button>
        </div>
      </div>
      
    </div>
  </div>
  <div class="n-property-bar__toolbar"><!-- Start Language Selector -->
    <div id="ie-i18n" class="n-property-bar__lang-selector">
      <div id="ie-i18n-menu">
      <span class="ie-i18n-lang">English</span>
        <button class="ie-i18n-icon-container" type="button">
          <svg class="n-globe__icon" aria-labelledby="title">
            <title>globe</title>
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#globe"></use>
          </svg>
        </button>
      </div>

      <div id="n-property-navigation-bar__menu--language-selector" class="ie-i18n-results-container n-menu n-menu--v3 n-menu--is-active" style="display: none;">
        <div class="n-language-selector-menu">
          <div class="n-language-selector-menu__header">
            <span class="n-language-selector-menu__title">Select Your Language</span>
          </div>
          <ul class="n-menu__list">
            <li class="n-menu__list-column">
              <ul class="n-menu__list">
                
                
                
                
                <li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="/ontap/us-en/" class="n-menu__header-text"><span translate="no" class="notranslate">English</span></a>
                </li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
              </ul>
            </li>
          </ul>
          <div class="menu__footer">
            <p>Current Language: English
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- End Language Selector -->

    <div class="n-property-bar__cta"></div>
  </div>
  <script>
    $(function(){
        var currentLocalization = $('html').attr('lang');

        var localizationsDictionary = {
            "en-CA" : "https://www.netapp.com/search/index.aspx?for_cr=canada&",
            "en-IN" : "https://www.netapp.com/search/index.aspx?for_cr=india&",
            "nl-NL" : "https://www.netapp.com/search/index.aspx?for_cr=netherlands&",
            "ru-RU" : "https://www.netapp.com/search/index.aspx?for_cr=russia&",
            "sv-SE" : "https://www.netapp.com/search/index.aspx?for_cr=sweden&",
            "it-IT" : "https://www.netapp.com/search/index.aspx?for_cr=italy&",
            "he-IL" : "https://www.netapp.com/search/index.aspx?for_cr=israel&",
            "ko-KR" : "https://www.netapp.com/search/index.aspx?for_cr=korea&",
            "zh-TW" : "https://www.netapp.com/search/index.aspx?for_cr=taiwan&",
            "en-GB" : "https://www.netapp.com/search/index.aspx?for_cr=unitedkingdom&",
            "en-SG" : "https://www.netapp.com/search/index.aspx?for_cr=asean&",
            "en-AU" : "https://www.netapp.com/search/index.aspx?for_cr=australia&",
            "pt-BR" : "https://www.netapp.com/search/index.aspx?for_cr=brasil&",
            "de-CH" : "https://www.netapp.com/search/index.aspx?for_cr=switzerland&",
            "es-MX" : "https://www.netapp.com/search/index.aspx?for_cr=mexico&"
        };

        if($('html').hasClass('ntap-whitelisted') && localizationsDictionary.hasOwnProperty(currentLocalization)) {
            $('.n-property-bar__property-link').attr('href', '/');
        }
    });
  </script>
  <!-- End property bar -->
</header>

        <div class="ie-utility">
  <div class="ie-menu">
    <div class="n-breadcrumb">
      <ul class="n-breadcrumb__list">
        <li class="n-breadcrumb__list-item">
          <a href="https://www.netapp.com">Home</a>
        </li>
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com">Documentation</a>
        </li>
        

        <li class="n-breadcrumb__list-item">
          <a href="/ontap/">ONTAP&nbsp;System&nbsp;Manager</a>
        </li>
        <li class="n-breadcrumb__list-item">
          Combine physical ports to create interface groups
        </li>
      </ul>
    </div>

    <div style="clear: both"></div><!-- Main needs to have height -->
  </div>
</div>


        <main id="n-main-content" class="n-main-content">
          <!-- Start Documentation Content -->
<div class="ie-main">
  <!-- Sidebar Column -->
  
  <div class="col-md-3" >
      <div class="n-pdf-header">
  <a id="toggleButtonPdf" class="n-pdf-button" type="button">PDFs<span>
    </span>
  </a>
</div>
<ul id="toggleContainerPdf" class="n-pdf-body" style="display:none;">
</ul>

<script>
  $("#toggleContainerPdf li.active").parents('li').toggle('display');
  $("#toggleContainerPdf li.active").parents('span.subfolders').toggle('display');
  $("#toggleButtonPdf").click(function () {
    $("#toggleContainerPdf").toggle('display');
  });
</script><ul id="mysidebar" class="nav"></ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

  </div>
  

  <div class="ie-content-pane n-doc__component-detail-content n-doc__component-detail-content--show-code">
    <!-- Begin of page container -->
    <article class="page-content">
      



<div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Combine physical ports to create interface groups</h1>
</div>


<p class="page-details">
  
    
    <time datetime="2020-12-09 21:51:53 +0000">12/09/2020</time>
    
  

<span>Contributors
  <a target="_blank" href="https://github.com/netapp-barbe">
    <img  class="avatar avatar-small"
          alt="netapp-barbe"
          width="20" height="20"
          src="https://avatars1.githubusercontent.com/u/55463742?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>


  <span>
    <a target="_blank" href="/ontap/pdfs/pages/networking-app/combine_physical_ports_to_create_interface_groups.pdf" role="button">
      <img src="/ontap/images/pdf.png" width="20" height="20"/>Download PDF of this page</a>
  </span>


</p>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>An interface group is created by combining two or more physical ports into a single logical port. The logical port provides increased resiliency, increased availability, and load sharing.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interface-group-types">Interface group types</h3>
<div class="paragraph">
<p>Three types of interface groups are supported on the storage system: single-mode, static multimode, and dynamic multimode. Each interface group provides different levels of fault tolerance. Multimode interface groups provide methods for load balancing network traffic.</p>
</div>
<div class="paragraph">
<p><strong>Characteristics of single-mode interface groups</strong></p>
</div>
<div class="paragraph">
<p>In a single-mode interface group, only one of the interfaces in the interface group is active. The other interfaces are on standby, ready to take over if the active interface fails.</p>
</div>
<div class="paragraph">
<p>Characteristics of a single-mode interface groups:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For failover, the cluster monitors the active link and controls failover.</p>
<div class="paragraph">
<p>Because the cluster monitors the active link, there is no switch configuration required.</p>
</div>
</li>
<li>
<p>There can be more than one interface on standby in a single-mode interface group.</p>
</li>
<li>
<p>If a single-mode interface group spans multiple switches, you must connect the switches with an Inter-Switch link (ISL).</p>
</li>
<li>
<p>For a single-mode interface group, the switch ports must be in the same broadcast domain.</p>
</li>
<li>
<p>Link-monitoring ARP packets, which have a source address of 0.0.0.0, are sent over the ports to verify that the ports are in the same broadcast domain.The following figure is an example of a single-mode interface group. In the figure, e0a and e1a are part of the a0a single-mode interface group. If the active interface, e0a, fails, the standby e1a interface takes over and maintains the connection to the switch.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/ontap_nm_image6.png" alt="Image of a single-mode interface group"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To accomplish single-mode functionality, the recommended approach is to instead use failover groups. By using a failover group, the second port can still be used for other LIFs and need not remain unused. Additionally, failover groups can span more than two ports and can span ports on multiple nodes.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Characteristics of static multimode interface groups</strong></p>
</div>
<div class="paragraph">
<p>The static multimode interface group implementation in ONTAP complies with IEEE 802.3ad (static). Any switch that supports aggregates, but does not have control packet exchange for configuring an aggregate, can be used with static multimode interface groups.</p>
</div>
<div class="paragraph">
<p>Static multimode interface groups do not comply with IEEE 802.3ad (dynamic), also known as Link Aggregation Control Protocol (LACP). LACP is equivalent to Port Aggregation Protocol (PAgP), the proprietary link aggregation protocol from Cisco.</p>
</div>
<div class="paragraph">
<p>The following are characteristics of a static multimode interface group:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All interfaces in the interface group are active and share a single MAC address.</p>
<div class="ulist">
<ul>
<li>
<p>Multiple individual connections are distributed among the interfaces in the interface group.</p>
</li>
<li>
<p>Each connection or session uses one interface within the interface group.</p>
<div class="paragraph">
<p>When you use the sequential load balancing scheme, all sessions are distributed across available links on a packet-by-packet basis, and are not bound to a particular interface from the interface group.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Static multimode interface groups can recover from a failure of up to "n-1" interfaces, where n is the total number of interfaces that form the interface group.</p>
</li>
<li>
<p>If a port fails or is unplugged, the traffic that was traversing the failed link is automatically redistributed to one of the remaining interfaces.</p>
</li>
<li>
<p>Static multimode interface groups can detect a loss of link, but they cannot detect a loss of connectivity to the client or switch misconfigurations that might impact connectivity and performance.</p>
</li>
<li>
<p>A static multimode interface group requires a switch that supports link aggregation over multiple switch ports.</p>
<div class="paragraph">
<p>The switch is configured so that all ports to which links of an interface group are connected are part of a single logical port. Some switches might not support link aggregation of ports configured for jumbo frames. For more information, see your switch vendor&#8217;s documentation.</p>
</div>
</li>
<li>
<p>Several load balancing options are available to distribute traffic among the interfaces of a static multimode interface group.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following figure is an example of a static multimode interface group. Interfaces e0a, e1a, e2a, and e3a are part of the a1a multimode interface group. All four interfaces in the a1a multimode interface group are active.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/ontap_nm_image7.png" alt="Image of a static multimode interface group"></span></p>
</div>
<div class="paragraph">
<p>Several technologies exist that enable traffic in a single aggregated link to be distributed across multiple physical switches. The technologies used to enable this capability vary among networking products. Static multimode interface groups in ONTAP conform to the IEEE 802.3 standards. If a particular multiple switch link aggregation technology is said to interoperate with or conform to the IEEE 802.3 standards, it should operate with ONTAP.</p>
</div>
<div class="paragraph">
<p>The IEEE 802.3 standard states that the transmitting device in an aggregated link determines the physical interface for transmission. Therefore, ONTAP is only responsible for distributing outbound traffic, and cannot control how inbound frames arrive. If you want to manage or control the transmission of inbound traffic on an aggregated link, that transmission must be modified on the directly connected network device.</p>
</div>
<div class="paragraph">
<p><strong>Dynamic multimode interface group</strong></p>
</div>
<div class="paragraph">
<p>Dynamic multimode interface groups implement Link Aggregation Control Protocol (LACP) to communicate group membership to the directly attached switch. LACP enables you to detect the loss of link status and the inability of the node to communicate with the direct-attached switch port.</p>
</div>
<div class="paragraph">
<p>Dynamic multimode interface group implementation in ONTAP complies with IEEE 802.3 AD (802.1 AX). ONTAP does not support Port Aggregation Protocol (PAgP), which is a proprietary link aggregation protocol from Cisco.</p>
</div>
<div class="paragraph">
<p>A dynamic multimode interface group requires a switch that supports LACP.</p>
</div>
<div class="paragraph">
<p>ONTAP implements LACP in nonconfigurable active mode that works well with switches that are configured in either active or passive mode. ONTAP implements the long and short LACP timers (for use with nonconfigurable values 3 seconds and 90 seconds), as specified in IEEE 802.3 AD (802.1AX).</p>
</div>
<div class="paragraph">
<p>The ONTAP load balancing algorithm determines the member port to be used to transmit outbound traffic, and does not control how inbound frames are received. The switch determines the member (individual physical port) of its port channel group to be used for transmission, based on the load balancing algorithm configured in the switch&#8217;s port channel group. Therefore, the switch configuration determines the member port (individual physical port) of the storage system to receive traffic. For more information about configuring the switch, see the documentation from your switch vendor.</p>
</div>
<div class="paragraph">
<p>If an individual interface fails to receive successive LACP protocol packets, then that individual interface is marked as "lag_inactive" in the output of "ifgrp status" command. Existing traffic is automatically rerouted to any remaining active interfaces.</p>
</div>
<div class="paragraph">
<p>The following rules apply when using dynamic multimode interface groups:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Dynamic multimode interface groups should be configured to use the port-based, IP-based, MAC-based, or round robin load balancing methods.</p>
</li>
<li>
<p>In a dynamic multimode interface group, all interfaces must be active and share a single MAC address.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following figure is an example of a dynamic multimode interface group. Interfaces e0a, e1a, e2a, and e3a are part of the a1a multimode interface group. All four interfaces in the a1a dynamic multimode interface group are active.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/ontap_nm_image7.png" alt="Image of a dynamic multimode interface group"></span></p>
</div>
<div class="sect4">
<h5 id="load-balancing-in-multimode-interface-groups">Load balancing in multimode interface groups</h5>
<div class="paragraph">
<p>You can ensure that all interfaces of a multimode interface group are equally utilized for outgoing traffic by using the IP address, MAC address, sequential, or port-based load balancing methods to distribute network traffic equally over the network ports of a multimode interface group.</p>
</div>
<div class="paragraph">
<p>The load balancing method for a multimode interface group can be specified only when the interface group is created.</p>
</div>
<div class="paragraph">
<p><strong>Best Practice</strong>: Port-based load balancing is recommended whenever possible. Use port-based load balancing unless there is a specific reason or limitation in the network that prevents it.</p>
</div>
<div class="paragraph">
<p><strong>Port-based load balancing</strong></p>
</div>
<div class="paragraph">
<p>Port-based load balancing is the recommended method.</p>
</div>
<div class="paragraph">
<p>You can equalize traffic on a multimode interface group based on the transport layer (TCP/UDP) ports by using the port-based load balancing method.</p>
</div>
<div class="paragraph">
<p>The port-based load balancing method uses a fast hashing algorithm on the source and destination IP addresses along with the transport layer port number.</p>
</div>
<div class="paragraph">
<p><strong>IP address and MAC address load balancing</strong></p>
</div>
<div class="paragraph">
<p>IP address and MAC address load balancing are the methods for equalizing traffic on multimode interface groups.</p>
</div>
<div class="paragraph">
<p>These load balancing methods use a fast hashing algorithm on the source and destination addresses (IP address and MAC address). If the result of the hashing algorithm maps to an interface that is not in the UP link-state, the next active interface is used.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Do not select the MAC address load balancing method when creating interface groups on a system that connects directly to a router. In such a setup, for every outgoing IP frame, the destination MAC address is the MAC address of the router. As a result, only one interface of the interface group is used.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>IP address load balancing works in the same way for both IPv4 and IPv6 addresses.</p>
</div>
<div class="paragraph">
<p><strong>Sequential load balancing</strong></p>
</div>
<div class="paragraph">
<p>You can use sequential load balancing to equally distribute packets among multiple links using a round robin algorithm. You can use the sequential option for load balancing a single connection&#8217;s traffic across multiple links to increase single connection throughput.</p>
</div>
<div class="paragraph">
<p>However, because sequential load balancing may cause out-of-order packet delivery, extremely poor performance can result. Therefore, sequential load balancing is generally not recommended.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-an-interface-group">Create an interface group</h3>
<div class="paragraph">
<p>You can create an interface group—single-mode, static multimode, or dynamic multimode (LACP)—to present a single interface to clients by combining the capabilities of the aggregated network ports.</p>
</div>
<div class="paragraph">
<p><strong>About this task</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>For a complete list of configuration restrictions that apply to port interface groups, see the <code>network port ifgrp add-port</code> man page.</p>
</li>
<li>
<p>When creating a multimode interface group, you can specify any of the following load-balancing methods:</p>
<div class="ulist">
<ul>
<li>
<p>port: Network traffic is distributed on the basis of the transport layer (TCP/UDP) ports. This is the recommended load-balancing method.</p>
</li>
<li>
<p>mac: Network traffic is distributed on the basis of MAC addresses.</p>
</li>
<li>
<p>ip: Network traffic is distributed on the basis of IP addresses.</p>
</li>
<li>
<p>sequential: Network traffic is distributed as it is received.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The MAC address of an ifgrp is determined by the order of the underlying ports and how these ports initialize during bootup. You should therefore not assume that the ifgrp MAC address is persistent across reboots or ONTAP upgrades.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Step</strong></p>
</div>
<div class="paragraph">
<p>Use the network port ifgrp create command to create an interface group.</p>
</div>
<div class="paragraph">
<p>Interface groups must be named using the syntax a&lt;number&gt;&lt;letter&gt;. For example, a0a, a0b, a1c, and a2a are valid interface group names.</p>
</div>
<div class="paragraph">
<p>For more information about this command, see the man pages.</p>
</div>
<div class="paragraph">
<p>The following example shows how to create an interface group named a0a with a distribution function of port and a mode of multimode:</p>
</div>
<div class="paragraph">
<p><code>network port ifgrp create -node <em>cluster-1-01</em> -ifgrp <em>a0a</em> -distr-func <em>port</em> -mode <em>multimode</em></code></p>
</div>
</div>
<div class="sect2">
<h3 id="add-a-port-to-an-interface-group">Add a port to an interface group</h3>
<div class="paragraph">
<p>You can add up to 16 physical ports to an interface group for all port speeds.</p>
</div>
<div class="paragraph">
<p><strong>Step</strong></p>
</div>
<div class="paragraph">
<p>Add network ports to the interface group:</p>
</div>
<div class="paragraph">
<p><code>network port ifgrp add-port</code></p>
</div>
<div class="paragraph">
<p>For more information about this command, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows how to add port e0c to an interface group named a0a:</p>
</div>
<div class="paragraph">
<p><code>network port ifgrp add-port -node <em>cluster-1-01</em> -ifgrp <em>a0a</em> -port <em>e0c</em></code></p>
</div>
<div class="paragraph">
<p>Interface groups are automatically placed into an appropriate broadcast domain about one minute after the first physical port is added to the interface group.</p>
</div>
</div>
<div class="sect2">
<h3 id="remove-a-port-from-an-interface-group">Remove a port from an interface group</h3>
<div class="paragraph">
<p>You can remove a port from an interface group that hosts LIFs, as long as it is not the last port in the interface group. There is no requirement that the interface group must not host LIFs or that the interface group must not be the home port of a LIF considering that you are not removing the last port from the interface group. However, if you are removing the last port, then you must migrate or move the LIFs from the interface group first.</p>
</div>
<div class="paragraph">
<p><strong>About this task</strong></p>
</div>
<div class="paragraph">
<p>You can remove up to 16 ports (physical interfaces) from an interface group.</p>
</div>
<div class="paragraph">
<p><strong>Step</strong></p>
</div>
<div class="paragraph">
<p>Remove network ports from an interface group:</p>
</div>
<div class="paragraph">
<p><code>network port ifgrp remove-port</code></p>
</div>
<div class="paragraph">
<p>The following example shows how to remove port e0c from an interface group named a0a:</p>
</div>
<div class="paragraph">
<p><code>network port ifgrp remove-port -node <em>cluster-1-01</em> -ifgrp <em>a0a</em> -port <em>e0c</em></code></p>
</div>
</div>
<div class="sect2">
<h3 id="delete-an-interface-group">Delete an interface group</h3>
<div class="paragraph">
<p>You can delete interface groups if you want to configure LIFs directly on the underlying physical ports or decide to change the interface group mode or distribution function.</p>
</div>
<div class="paragraph">
<p><strong>Before you begin</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The interface group must not be hosting a LIF.</p>
</li>
<li>
<p>The interface group must be neither the home port nor the failover target of a LIF.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Step</strong></p>
</div>
<div class="paragraph">
<p>Use the network port ifgrp delete command to delete an interface group. For more information about this command, see the man pages.</p>
</div>
<div class="paragraph">
<p>The following example shows how to delete an interface group named a0b:</p>
</div>
<div class="paragraph">
<p><code>network port ifgrp delete -node <em>cluster-1-01</em> -ifgrp <em>a0b</em></code></p>
</div>
</div>

    </article>
    <!-- Page Container -->
  </div>

  
  <!-- Start Page Toolbar -->
  <div class="page-nav-toolbar">
    <div class="page-nav-contribute"  >
      <div class="page-nav-contribute-title">CONTRIBUTE</div>
      <a target="_blank" href="https://github.com/NetAppDocs/ontap/blob/master/networking-app/combine_physical_ports_to_create_interface_groups.adoc" class="btn btn-default githubEditButton" role="button"><img src="/ontap/images/github.png" class="github-icon" />Edit on GitHub</a>
      <a target="_blank" href="https://github.com/NetAppDocs/ontap/issues/new?body=Page%3A%20[Combine physical ports to create interface groups](https://docs.netapp.com/us-en/ontap/networking-app/combine_physical_ports_to_create_interface_groups.html)" class="btn btn-default githubEditButton" role="button"><img src="/ontap/images/github.png" class="github-icon" />Request doc changes</a>
      <a target="_blank" href="https://docs.netapp.com/us-en/contribute/" class="page-nav-contribute-link"  >Contributor's Guide</a>
    </div>
    <div class="page-nav-container">
      <nav class="page-nav-fixed">
        <div class="page-nav-title">ON THIS PAGE</div>
        <div class="page-nav-links">
          <ul class="page-nav-inner" id="page-menu"></ul>
        </div>
      </nav>
    </div>
  </div>
  
  <div style="clear: both"></div><!-- Main needs to have height -->
</div>

        </main>

        <footer class="n-footer">
  <div class="n-footer__bottom">
    <div class="n-container">
      <div class="n-footer__bottom-left">

        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
            <a href="https://www.netapp.com/us/legal/copyright.aspx">© 2020 NetApp</a>
            </li>
            <li class="n-footer__language">
              <!-- <a class="n-footer__corp-link modaal" href="#n-language-selector-menu" data-modaal-scope="modaal_154143812867626e487b1a03c9"> -->
              <a class="n-footer__corp-link modaal" href="#n-language-selector-menu">
                <svg class="n-icon-baseline-language" aria-labelledby="title">
                  <title>netapp-globe</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#globe"></use>
                </svg>
                English
              </a>
            </li>

</ul>
</div>
<div class="n-footer__social-links">
<ul class="n-footer__social-link-list">
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-blog" href="https://blog.netapp.com" target="_blank" title="blog" alt="blog">
<span class="n-footer__social-link-text">blog</span>
<svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
  <title>blog@</title>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#blog"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-community" href="https://community.netapp.com/" target="_blank" title="community" alt="community">
<span class="n-footer__social-link-text">community</span>
<svg class="n-icon-community n-footer__social-link-icon" aria-labelledby="title">
<title>community@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#comments"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netapp" target="_blank" title="twitter" alt="twitter">
<span class="n-footer__social-link-text">twitter</span>
<svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
<title>twitter@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#twitter"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-facebook" href="https://www.facebook.com/NetApp" target="_blank" title="facebook" alt="facebook">
<span class="n-footer__social-link-text">facebook</span>
<svg class="n-icon-facebook n-footer__social-link-icon" aria-labelledby="title">
<title>facebook@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#facebook"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-linkedin" href="https://www.linkedin.com/company/netapp" target="_blank" title="linkedin" alt="linkedin">
<span class="n-footer__social-link-text">linkedin</span>
<svg class="n-icon-linkedin n-footer__social-link-icon" aria-labelledby="title">
<title>linkedin@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#linkedin"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTV" target="_blank" title="youtube" alt="youtube">
<span class="n-footer__social-link-text">youtube</span>
<svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
<title>youtube@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#youtube"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-slideshare" href="https://www.slideshare.net/NetApp" target="_blank" title="slideshare" alt="slideshare">
<span class="n-footer__social-link-text">slideshare</span>
<svg class="n-icon-slideshare n-footer__social-link-icon" aria-labelledby="title">
<title>slideshare@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap/common/svg/sprite.svg#slideshare"></use>
</svg>

</a>
</li>
</ul>
</div>

</div>
<div class="n-footer__bottom-right">
  <p class="n-footer__fine-print">Have feedback for our website?<a target="_self" href="javascript:netapp_mailto()" class="n-footer__copyright">Let us know</a>
  <a href="https://docs.netapp.com/us-en/announcements/" class="n-footer__copyright">Announcements</a>
  </p>
</div>
</div>
</div>
</footer>

      </div>

      <!-- Elasticsearch JS -->
      <script type="text/javascript" src='/ontap/js/bundle.js'></script>

      <!-- Syntax Highlighting -->
      <script type="text/javascript" src='/ontap/js/prism.js'></script>
      <script type="text/javascript" src='/ontap/js/prism-curl.js'></script>
    </div>
    <script>
      document.body.offsetWidth=1903;
      cookieLaw = {}
      cookieLaw.euCountry = "US";
      cookieLaw.invoke = function(){return false;}
    </script>
    <script src='/ontap/js/www-ntap.js'></script>
  </body>

  
</html>
